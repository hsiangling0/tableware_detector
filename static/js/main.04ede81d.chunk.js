(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{362:function(t,e,n){t.exports=n(745)},367:function(t,e,n){},372:function(t,e){},373:function(t,e){},381:function(t,e){},383:function(t,e){},384:function(t,e){},385:function(t,e){},421:function(t,e,n){},512:function(t,e,n){t.exports=n.p+"static/media/logo_t.f4715a84.svg"},513:function(t,e,n){},515:function(t,e,n){},521:function(t,e,n){},524:function(t,e,n){},526:function(t,e,n){},528:function(t,e,n){},530:function(t,e,n){},533:function(t,e){},572:function(t,e){},574:function(t,e){},597:function(t,e){},599:function(t,e){},611:function(t,e){},612:function(t,e){},635:function(t,e){},638:function(t,e){},640:function(t,e){},743:function(t,e,n){},745:function(t,e,n){"use strict";n.r(e);var a,r=n(4),i=n(5),o=n(13),c=n(22),s=n(12),l=n(10),u=n.n(l),p=n(338),f=n.n(p),d=n(70),m=(n(367),n(9)),h=n(46),y=n(37),v=n(130);n(252),n(513),n(515);function g(){return(g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var b=function(t){return u.a.createElement("svg",g({height:48,width:48,viewBox:"0 0 48 48"},t),a||(a=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,11) scale(0.8125,0.8125)  ",fill:"#000000",d:"M3.7399902,0L16,12.258972 28.26001,0 32,3.7399902 19.73999,16 32,28.258972 28.26001,32 16,19.73999 3.7399902,32 0,28.258972 12.26001,16 0,3.7399902z"}))))},w=(n.p,n(748));function E(){E=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(T){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),c=new k(r||[]);return a(o,"_invoke",{value:_(t,n,c)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var p={};function f(){}function d(){}function m(){}var h={};s(h,i,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(L([])));v&&v!==e&&n.call(v,i)&&(h=v);var g=m.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;a(this,"_invoke",{value:function(a,i){function o(){return new e(function(r,o){!function a(r,i,o,c){var s=u(t[r],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then(function(t){a("next",t,o,c)},function(t){a("throw",t,o,c)}):e.resolve(p).then(function(t){l.value=t,o(l)},function(t){return a("throw",t,o,c)})}c(s.arg)}(a,i,r,o)})}return r=r?r.then(o,o):o()}})}function _(t,e,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return j()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var c=x(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function x(t,e){var n=e.method,a=t.iterator[n];if(void 0===a)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=m,a(g,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:d,configurable:!0}),d.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var o=new w(l(e,n,a,r),i);return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(g),s(g,c,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var a in e)n.push(a);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return o.type="throw",o.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var _=function(){var t=Object(m.a)(E().mark(function t(e,n){var a,r,i,o,c,s,l,u,p,f=arguments;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=f.length>2&&void 0!==f[2]&&f[2],r=f.length>3&&void 0!==f[3]?f[3]:{},i=f.length>4&&void 0!==f[4]?f[4]:null,o="https://eft.dev.19gale.ai",!a){t.next=15;break}return c="Bearer "+(c=JSON.parse(localStorage.getItem("token")||"{}")),console.log(c),s={"Content-Type":"application/json",Authorization:c},t.next=11,Object(w.a)({baseURL:o,url:e,method:n,headers:s,params:r,data:i}).catch(function(){localStorage.removeItem("token"),window.location.href="/login"});case 11:return l=t.sent,t.abrupt("return",l.data);case 15:return u={"Content-Type":"application/json"},t.next=18,Object(w.a)({baseURL:o,url:e,method:n,headers:u,params:r,data:i});case 18:return p=t.sent,t.abrupt("return",p.data);case 20:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),x=function(){return _("/users","GET",!1)},N=function(t){return _("/users/user","GET",!1,{club_id:t})},O=function(t,e,n,a){return _("/users/update","PATCH",!0,{club_id:t},{password:e,name:n,address:a})},k=function(t,e,n,a){return _("/pictures/upload","POST",!0,{},{num_friendly:t,date:e,activity_id:n,base64:a})};function L(t){return t.trigger?u.a.createElement("div",{className:"popup"},u.a.createElement("div",{className:"popup-inner"},u.a.createElement("div",{className:"close-btn",onClick:function(){return t.setButton(!1)}},u.a.createElement(b,{width:"35",height:"35",className:"app_delete",alt:"delete_icon"})),u.a.createElement("h3",{className:"ask"},"\u662f\u5426\u78ba\u5b9a\u4e0a\u50b3\u6b64\u7167\u7247"),u.a.createElement("p",{className:"ask_context"},"\u63d0\u9192\u60a8\uff0c\u4e00\u6b21\u6d3b\u52d5\u50c5\u80fd\u4e0a\u50b3\u4e00\u5f35\u7167\u7247\u4e14\u4e0a\u50b3\u5f8c\u7121\u6cd5\u66f4\u6539\u3002"),u.a.createElement(d.b,{to:"/tableware_detector/activities",className:"concert",onClick:function(){var e=(new Date).toISOString();console.log(e),console.log(t.num),console.log(t.activity_id),console.log(t.base64),k(t.num,e,t.activity_id,t.base64).then(function(t){console.log(t)}).catch(function(t){alert("\u4e0a\u50b3\u5931\u6557")})}},u.a.createElement("button",{className:"concert"},"\u78ba\u5b9a")))):""}var j,T=n(6);n(521);function S(){return(S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var C=function(t){return u.a.createElement("svg",S({height:48,width:48,viewBox:"0 0 48 48"},t),j||(j=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11.0406243801117,11) scale(0.8125,0.8125)  ",fill:"#ADADAD",d:"M9.5999776,12.699997L11.899997,15.099998 13.299991,14.300003 19.000005,20 22.899999,18 28.299995,20.699997 28.299995,25.699997 3.5999767,25.699997 3.5999767,18.599998z M20.500005,11.699997L21.199987,11.699997 21.000005,12.800003 20.699987,12.800003z M23.09998,10.699997L23.799993,11.599998 23.59998,11.800003 22.699987,11.099998z M18.699987,10.699997L19.199987,11.199997 18.299993,11.900002 18.000005,11.599998z M23.59998,8.5999985L24.699987,8.8000031 24.699987,9 23.59998,9.1999969z M18.09998,8.5999985L18.09998,9.3000031 17.000005,9 17.000005,8.8000031z M20.799993,7C21.899999,7 22.699987,7.9000015 22.699987,8.9000015 22.699987,10 21.799993,10.800003 20.799993,10.800003 19.699987,10.800003 18.899999,9.9000015 18.899999,8.9000015 18.899999,7.8000031 19.799993,7 20.799993,7z M23.500005,6.0999985L23.699987,6.3000031 23.000005,7.1999969 22.500005,6.6999969z M18.199987,6.0999985L19.09998,6.8000031 18.59998,7.3000031 18.000005,6.3000031z M20.699987,5L21.000005,5 21.199987,6.0999985 20.500005,6.0999985z M2.1999823,2.4000015L2.1999823,26.800003 29.400001,26.800003 29.400001,2.4000015z M0,0L31.900001,0 31.900001,32 0,32z"}))))},R=(n.p,n(140));function I(){I=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(j){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),c=new O(r||[]);return a(o,"_invoke",{value:E(t,n,c)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=l;var p={};function f(){}function d(){}function m(){}var h={};s(h,i,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==e&&n.call(v,i)&&(h=v);var g=m.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;a(this,"_invoke",{value:function(a,i){function o(){return new e(function(r,o){!function a(r,i,o,c){var s=u(t[r],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then(function(t){a("next",t,o,c)},function(t){a("throw",t,o,c)}):e.resolve(p).then(function(t){l.value=t,o(l)},function(t){return a("throw",t,o,c)})}c(s.arg)}(a,i,r,o)})}return r=r?r.then(o,o):o()}})}function E(t,e,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return L()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var c=_(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function _(t,e){var n=e.method,a=t.iterator[n];if(void 0===a)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,a(g,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:d,configurable:!0}),d.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var o=new w(l(e,n,a,r),i);return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(g),s(g,c,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var a in e)n.push(a);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return o.type="throw",o.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var M="web-model";function D(){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(I().mark(function t(){var e;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="",!("indexedDB"in window)){t.next=19;break}return t.prev=2,t.next=5,Object(R.a)("indexeddb://"+M);case 5:e=t.sent,t.next=17;break;case 8:return t.prev=8,t.t0=t.catch(2),t.next=12,Object(R.a)("https://raw.githubusercontent.com/hsiangling0/tableware_detector/main/models/tableware_detector/model.json");case 12:return e=t.sent,t.next=15,e.save("indexeddb://"+M);case 15:console.log("Not found in IndexedDB. Loading and saving..."),console.log(t.t0);case 17:t.next=23;break;case 19:return console.warn("IndexedDB not supported."),t.next=22,Object(R.a)("http://127.0.0.1:8080/model.json");case 22:e=t.sent;case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}},t,null,[[2,8]])}))).apply(this,arguments)}var B={1:{name:"friendly_chopsticks",id:1},2:{name:"unfriendly_chopsticks",id:2},3:{name:"friendly_spoon",id:3},4:{name:"unfriendly_spoon",id:4},5:{name:"friendly_bottle",id:5},6:{name:"unfriendly_bottle",id:6},7:{name:"friendly_drinkingstraw",id:7},8:{name:"unfriendly_drinkingstraw",id:8},9:{name:"friendly_fork",id:9},10:{name:"unfriendly_fork",id:10}};function A(t,e,n,a,r){var i=[];return t[0].forEach(function(t,o){if(t>e){var c=[],s=n[0][o][0]*r.offsetHeight,l=n[0][o][1]*r.offsetWidth,u=n[0][o][2]*r.offsetHeight,p=n[0][o][3]*r.offsetWidth;c[0]=l,c[1]=s,c[2]=p-l,c[3]=u-s,i.push({class:a[o],label:B[a[o]].name,score:t.toFixed(4),bbox:c})}}),i}function F(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}v.c("webgl");var z,G=.6,U=function(t){Object(o.a)(n,t);var e=F(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).imageRef=u.a.createRef(),a.canvasRef=u.a.createRef(),a.detectFrame=function(t,e){v.b().startScope(),e.executeAsync(a.process_input(t)).then(function(e){a.renderPredictions(e,t),v.b().endScope()})},a.renderPredictions=function(t){var e=a.canvasRef.current,n=a.imageRef.current;e.width=340,e.height=250;var r=e.getContext("2d");r.drawImage(n,0,0,340,250);var i=0,o=0,c="16px sans-serif";r.font=c,r.textBaseline="top";var s=t[2].arraySync(),l=t[0].arraySync(),u=t[4].dataSync(),p=A(l,G,s,u,document.getElementById("upload-image"));p.forEach(function(t){var e=t.bbox[0],n=t.bbox[1],a=t.bbox[2],s=t.bbox[3];t.class%2==0?(r.strokeStyle="#C7C7E2",r.fillStyle="#C7C7E2",o++):(r.strokeStyle="#FFBD9D",r.fillStyle="#FFBD9D",i++),r.lineWidth=4,r.strokeRect(e,n,a,s);var l=r.measureText(t.label+" "+(100*t.score).toFixed(2)+"%").width,u=parseInt(c,10);r.fillRect(e,n,l+4,u+4)}),p.forEach(function(t){var e=t.bbox[0],n=t.bbox[1];r.fillStyle="#000000",r.fillText(t.label+" "+(100*t.score).toFixed(2)+"%",e,n)}),console.log(i),a.setState({friendly:i,unfriendly:o,canvasURL:e.toDataURL()})},a.uploadImage=function(t){var e=t.target.files,n=document.getElementById("upload-image"),r=a.createImageFromFile(n,e[0]),i=a.getFileBase64Encode(e[0]);a.setState({showCanvas:!1}),Promise.all([r,i]).then(function(t){var e=Object(T.a)(t,2),n=e[0];e[1];n.width=340,n.height=250})},a.state={button:!1,friendly:0,unfriendly:0,imageURL:null,canvasURL:null,showCanvas:!1},a.setButton=a.setButton.bind(Object(h.a)(a)),a.uploadImage=a.uploadImage.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"process_input",value:function(t){return v.a.fromPixels(t).toInt().transpose([0,1,2]).expandDims()}},{key:"startIdentify",value:function(){var t=this;(this.setState({showCanvas:!0}),null!==this.state.imageURL)?new Promise(function(t,e){t(D())}).then(function(e){t.detectFrame(t.imageRef.current,e)}).catch(function(t){console.error(t)}):alert("Please upload a photo.")}},{key:"setButton",value:function(t,e){this.setState({button:e,shutdown:e})}},{key:"createImageFromFile",value:function(t,e){var n=this;return new Promise(function(a,r){t.src=URL.createObjectURL(e),console.log(t.src),n.setState({imageURL:t.src}),t.onload=function(){URL.revokeObjectURL(t.src),a(t)},t.onerror=function(){return r("Failure to load image.")}})}},{key:"getFileBase64Encode",value:function(t){return new Promise(function(e,n){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){return e(a.result)},a.onerror=function(t){return n(t)}})}},{key:"render",value:function(){var t=this;return this.props.trigger?u.a.createElement("div",{className:"upload-page"},u.a.createElement("div",{className:"upload_button"},u.a.createElement(C,{width:"48",height:"48",className:"app_upload",alt:"upload_icon"}),u.a.createElement("span",{className:"upload_title"},"upload"),u.a.createElement("input",{className:"file",type:"file",accept:"image/*",onChange:this.uploadImage})),u.a.createElement("div",{className:"input"},u.a.createElement("img",{id:"upload-image",crossOrigin:"anonymous",width:"340px",height:"250px",ref:this.imageRef}),this.state.showCanvas&&u.a.createElement("canvas",{className:"size",ref:this.canvasRef,src:this.state.canvasURL})),u.a.createElement("div",{className:"uploaded_button"},u.a.createElement("button",{className:"pop",onClick:function(){return t.startIdentify()},style:{background:"#FFBD9D"}},"\u8fa8\u8b58"),u.a.createElement("button",{className:"pop",onClick:function(){return t.setButton(t,!0)}},"\u78ba\u5b9a"),u.a.createElement(L,{trigger:this.state.button,activity_id:this.props.activity_id,num:this.state.friendly,base64:this.state.canvasURL,setButton:this.setButton})),u.a.createElement("div",{className:"data_r"},u.a.createElement("div",{className:"row_r"},u.a.createElement("span",{className:"title_r"},"eco-friendly items:"),u.a.createElement("span",{className:"amounts"},this.state.friendly)),u.a.createElement("div",{className:"row_r"},u.a.createElement("span",{className:"title_r"},"not eco-friendly items:"),u.a.createElement("span",{className:"amounts"},this.state.unfriendly)))):""}}]),n}(u.a.Component);function J(){return(J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var W=function(t){return u.a.createElement("svg",J({height:48,width:48,viewBox:"0 0 48 48"},t),z||(z=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(16.1593753099442,11) scale(0.8125,0.8125)  ",fill:"#ADADAD",d:"M14.200005,0L19.3,5.6999969 10.200003,15.899994 19.200009,26.399994 14.200005,32 0,16z"}))))};n.p;function q(t){return t.trigger?u.a.createElement("div",{className:"popup"},u.a.createElement("div",{className:"popup-inner"},u.a.createElement("div",{className:"close-btn",onClick:function(){return t.setBack(!1)}},u.a.createElement(b,{width:"35",height:"35",className:"app_delete",alt:"delete_icon"})),u.a.createElement("h3",{className:"ask"},"\u662f\u5426\u78ba\u5b9a\u96e2\u958b"),u.a.createElement("p",{className:"ask_context"},"\u63d0\u9192\u60a8\uff0c\u7167\u7247\u5c1a\u672a\u4e0a\u50b3\uff0c\u73fe\u5728\u96e2\u958b\u7167\u7247\u5c07\u7121\u6cd5\u5132\u5b58\u3002"),u.a.createElement(d.b,{to:"/tableware_detector/activities",className:"concert",onClick:function(){return t.setBack(!1)}},u.a.createElement("button",{className:"concert"},"\u78ba\u5b9a")))):""}function Y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}v.c("webgl");var H=.6,V=function(t){Object(o.a)(n,t);var e=Y(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).videoRef=u.a.createRef(),a.canvasRef=u.a.createRef(),a.detectFrame=function(t,e){v.b().startScope(),e.executeAsync(a.process_input(t)).then(function(n){a.renderPredictions(n,t),requestAnimationFrame(function(){a.state.shutdown||a.detectFrame(t,e)}),v.b().endScope()})},a.renderPredictions=function(t){var e=a.canvasRef.current,n=a.videoRef.current;e.width=400,e.height=300;var r=e.getContext("2d");r.drawImage(n,0,0,400,300);var i=0,o=0,c="16px sans-serif";r.font=c,r.textBaseline="top";var s=t[2].arraySync(),l=t[0].arraySync(),u=t[4].dataSync(),p=A(l,H,s,u,document.getElementById("frame"));p.forEach(function(t){var e=t.bbox[0],n=t.bbox[1],a=t.bbox[2],s=t.bbox[3];t.class%2==0?(r.strokeStyle="#C7C7E2",r.fillStyle="#C7C7E2",o++):(r.strokeStyle="#FFBD9D",r.fillStyle="#FFBD9D",i++),r.lineWidth=4,r.strokeRect(e,n,a,s);var l=r.measureText(t.label+" "+(100*t.score).toFixed(2)+"%").width,u=parseInt(c,10);r.fillRect(e,n,l+4,u+4)}),p.forEach(function(t){var e=t.bbox[0],n=t.bbox[1];r.fillStyle="#000000",r.fillText(t.label+" "+(100*t.score).toFixed(2)+"%",e,n)}),a.setState({friendly:i,unfriendly:o,canvasURL:e.toDataURL()})},a.state={button:!1,friendly:0,unfriendly:0,page:!1,shutdown:!1,switch:!1,back:!1,canvasURL:null},a.setButton=a.setButton.bind(Object(h.a)(a)),a.setPage=a.setPage.bind(Object(h.a)(a)),a.setBack=a.setBack.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var e=navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then(function(e){return window.stream=e,t.videoRef.current.srcObject=e,new Promise(function(e,n){t.videoRef.current.onloadedmetadata=function(){e()}})}),n=D();Promise.all([n,e]).then(function(e){t.detectFrame(t.videoRef.current,e[0])}).catch(function(t){console.error(t)})}}},{key:"process_input",value:function(t){return v.a.fromPixels(t).toInt().transpose([0,1,2]).expandDims()}},{key:"setButton",value:function(t,e){this.setState({button:e,shutdown:e}),console.log(this.state.button)}},{key:"setBack",value:function(t,e){this.setState({shutdown:e,back:e}),console.log(this.state.button)}},{key:"setPage",value:function(t,e){this.setState({page:e,shutdown:e,switch:e});var n=document.querySelector(".page1"),a=document.querySelector(".upload"),r=document.querySelector(".realtime");e?(n.style.display="none",a.style.borderBottom="0.5px solid #000000",a.style.color="#000000",r.style.borderBottom="0.5px solid #adadad",r.style.color="#8E8E8E"):(n.style.display="block",r.style.borderBottom="0.5px solid #000000",r.style.color="#000000",a.style.borderBottom="0.5px solid #adadad",a.style.color="#8E8E8E",this.componentDidMount())}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("div",{className:"back"},u.a.createElement(W,{width:"35",height:"35",className:"app_back",alt:"back_icon",onClick:function(){return t.setBack(t,!0)}})),u.a.createElement("div",{className:"title_identify"},u.a.createElement("h3",null,"Detection")),u.a.createElement("div",{className:"choice"},u.a.createElement("a",{className:"realtime",onClick:function(){return t.setPage(t,!1)}},"real-time"),u.a.createElement("a",{className:"upload",onClick:function(){return t.setPage(t,!0)}},"upload")),u.a.createElement("div",{className:"page1"},u.a.createElement("div",{className:"input_identify"},u.a.createElement("video",{className:"size",autoPlay:!0,playsInline:!0,muted:!0,ref:this.videoRef,width:"400",height:"300",id:"frame"}),u.a.createElement("canvas",{className:"size",ref:this.canvasRef})),u.a.createElement("h4",{className:"current"},"\u7576\u524d\u6578\u64da"),u.a.createElement("div",{className:"data_r"},u.a.createElement("div",{className:"row_r"},u.a.createElement("span",{className:"title_r"},"eco-friendly items:"),u.a.createElement("span",{className:"amounts"},this.state.friendly)),u.a.createElement("div",{className:"row_r"},u.a.createElement("span",{className:"title_r"},"not eco-friendly items:"),u.a.createElement("span",{className:"amounts"},this.state.unfriendly))),u.a.createElement("button",{className:"pop",onClick:function(){return t.setButton(t,!0)}},"\u78ba\u5b9a"),u.a.createElement(L,{trigger:this.state.button,activity_id:this.props.match.params.id,num:this.state.friendly,base64:this.state.canvasURL,setButton:this.setButton}),u.a.createElement(q,{trigger:this.state.back,setBack:this.setBack})),u.a.createElement(U,{trigger:this.state.page,setButton:this.setButton,activity_id:this.props.match.params.id}))}}]),n}(u.a.Component);n(421);function K(t){var e=JSON.parse(localStorage.getItem("token")||"{}");return"{}"===JSON.stringify(e)?u.a.createElement(y.a,{to:"/tableware_detector/account"}):u.a.createElement("div",null,t)}function $(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var Q=function(t){Object(o.a)(n,t);var e=$(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={data:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;_("/resources","GET",!1).then(function(e){e.sort(function(t,e){return t.id-e.id}),t.setState({data:e})})}},{key:"render",value:function(){return K(u.a.createElement("div",null,u.a.createElement("div",{className:"title"},u.a.createElement("h3",null,"Transaction")),u.a.createElement("div",{className:"list"},this.state.data.map(function(t){return u.a.createElement("div",{className:"act_data",key:t.id},u.a.createElement("span",{className:"act_num"},t.id),u.a.createElement("div",{className:"act_info"},u.a.createElement("div",{className:"first_row_a"},u.a.createElement("span",{className:"activity_name"},t.name),u.a.createElement("span",{className:"amount"},t.cost,"EFT")),u.a.createElement("div",{className:"second_row_a"},u.a.createElement(d.b,{to:"/tableware_detector/place/".concat(t.id,"/").concat(t.name,"/").concat(t.cost)},u.a.createElement("button",{className:"state_n"},"\u79df\u501f")))))}))))}}]),n}(u.a.Component);n(524);function X(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var Z=function(t){Object(o.a)(n,t);var e=X(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={data:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;x().then(function(e){e.sort(function(t,e){return e.token-t.token}),t.setState({data:e})})}},{key:"render",value:function(){return u.a.createElement("div",{className:"home"},u.a.createElement("h4",null,"TOP"),u.a.createElement("div",{className:"rank_title"},u.a.createElement("span",{className:"title_context"},"CLUB"),u.a.createElement("span",{className:"title_context"},"VOLUME")),u.a.createElement("div",{className:"rank_context"},this.state.data.map(function(t,e){return u.a.createElement("div",{className:"rank_data",key:e},u.a.createElement("span",{className:"num"},e+1),u.a.createElement("div",{className:"photo"}),u.a.createElement("div",{className:"info"},u.a.createElement("div",{className:"first_row"},u.a.createElement("span",{className:"club"},t.name),u.a.createElement("span",{className:"amount"},t.token,"EFT")),u.a.createElement("div",{className:"second_row"},u.a.createElement("span",{className:"id"},t.address.substr(0,5),"......",t.address.substr(-5)))))})))}}]),n}(u.a.Component);function tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var et,nt=function(t){Object(o.a)(n,t);var e=tt(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={data:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t,e=this,n=localStorage.getItem("id");(t=n,_("/activities","GET",!1,{club_id:t})).then(function(t){t.sort(function(t,e){return t.id-e.id}),e.setState({data:t})}).catch(function(t){document.querySelector(".list").innerHTML="<p>\u76ee\u524d\u9084\u6c92\u6709\u4efb\u4f55\u793e\u5718\u6d3b\u52d5</p>"})}},{key:"render",value:function(){return K(u.a.createElement("div",null,u.a.createElement("div",{className:"title"},u.a.createElement("h3",null,"Activities")),u.a.createElement("div",{className:"list"},this.state.data.map(function(t,e){return u.a.createElement("div",{className:"act_data",key:t.id},u.a.createElement("span",{className:"act_num"},e+1),u.a.createElement("div",{className:"act_info"},u.a.createElement("div",{className:"first_row_a"},u.a.createElement("span",{className:"activity_name"},t.name),u.a.createElement("span",{className:"date"},t.date.substr(0,10))),u.a.createElement("div",{className:"second_row_a"},0==t.state&&u.a.createElement("button",{className:"state_e"},"\u5df2\u904e\u671f"),1==t.state&&u.a.createElement(d.b,{to:"/tableware_detector/apply/".concat(t.id)},u.a.createElement("button",{className:"state"},"\u5df2\u4e0a\u50b3")),null==t.state&&u.a.createElement(d.b,{to:"/tableware_detector/identify/".concat(t.id)},u.a.createElement("button",{className:"state_n"},"\u672a\u4e0a\u50b3")))))}))))}}]),n}(u.a.Component);n(526);function at(){return(at=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var rt,it=function(t){return u.a.createElement("svg",at({height:48,width:48,viewBox:"0 0 48 48"},t),et||(et=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(12.6249966099848,11) scale(0.812500242143942,0.812500242143942)  ",fill:"#ADADAD",d:"M14,2.0000019C9.5750105,2.0000019 5.9750196,5.5940018 5.9750196,10.011003 5.9750196,14.358988 9.4633896,17.908522 13.793194,18.018383L13.999398,18.020997 14,18.020989 14.000602,18.020997 14.206806,18.018383C18.53661,17.908522 22.024981,14.358988 22.024981,10.011003 22.024981,5.5940018 18.42499,2.0000019 14,2.0000019z M14,0C19.527987,0 24.024975,4.4910021 24.024975,10.011003 24.024975,13.806004 21.899445,17.114168 18.774664,18.811166L18.720785,18.839587 18.808857,18.870622C24.166975,20.833318,28,25.978122,28,31.99999L26,31.99999C26,25.498198,20.783909,20.189227,14.309253,20.024909L14.000621,20.020997 14,20.021005 13.999379,20.020997 13.690747,20.024909C7.2160913,20.189227,2.0000002,25.498198,2.0000004,31.99999L0,31.99999C1.7881237E-07,25.978122,3.8330259,20.833318,9.1911432,18.870622L9.279215,18.839587 9.2253363,18.811166C6.1005546,17.114168 3.9750246,13.806004 3.9750249,10.011003 3.9750246,4.4910021 8.4720137,0 14,0z"}))))};n.p;function ot(){return(ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var ct,st=function(t){return u.a.createElement("svg",ot({height:48,width:48,viewBox:"0 0 48 48"},t),rt||(rt=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,11.9481873512268) scale(0.8125,0.8125)  ",fill:"#ADADAD",d:"M14.966003,22.147998L17.112,22.147998 17.112,24.293016 14.966003,24.293016z M14.874008,13.098992L17.195007,13.098992 17.195007,15.726005 16.645004,21.407031 15.432007,21.407031 14.874008,15.726005z M16,5.1690032L4.1110077,27.212022 27.889008,27.212022z M16,0L24,14.832999 32,29.666 16,29.666 0,29.666 8,14.832999z"}))))};n.p;function lt(){return(lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var ut,pt=function(t){return u.a.createElement("svg",lt({height:48,width:48,viewBox:"0 0 48 48"},t),ct||(ct=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,11) scale(0.8125,0.8125)  ",fill:"#ADADAD",d:"M14.246002,23.394012L16.850006,23.394012 16.850006,26.235001 14.246002,26.235001z M15.785995,5.7660065C17.520004,5.7660065 18.862,6.2390137 19.809006,7.1880035 20.833008,8.2109985 21.347,9.5140076 21.347,11.090012 21.347,12.432007 20.872009,13.575012 19.927002,14.522003 19.374008,15.075012 18.624008,15.825012 17.677002,16.768005 16.970001,17.479004 16.613998,18.546005 16.613998,19.964005L14.483002,19.964005C14.483002,18.229004 14.759003,16.92601 15.311005,16.061005 15.706009,15.430008 16.456009,14.561005 17.559006,13.456009 18.190002,12.827011 18.507004,12.077011 18.507004,11.208008 18.507004,10.106003 18.229004,9.276001 17.677002,8.7230072 17.20401,8.25 16.535995,8.0140076 15.667007,8.0140076 14.956009,8.0140076 14.363998,8.25 13.893005,8.7230072 13.104004,9.5140076 12.710007,10.695999 12.710007,12.274002L9.9869995,12.274002C9.9869995,10.223007 10.658997,8.526001 11.999008,7.1880035 12.945999,6.2390137 14.208008,5.7660065 15.785995,5.7660065z M16,3.131012C8.8910065,3.131012 3.1290054,8.8930054 3.1290054,16 3.1290054,23.108002 8.8910065,28.869003 16,28.869003 23.104996,28.869003 28.867004,23.108002 28.867004,16 28.867004,8.8930054 23.104996,3.131012 16,3.131012z M16,0C24.820007,0 32,7.178009 32,16 32,24.822006 24.820007,32 16,32 7.1760025,32 0,24.822006 0,16 0,7.178009 7.1760025,0 16,0z"}))))};n.p;function ft(){return(ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var dt=function(t){return u.a.createElement("svg",ft({height:48,width:48,viewBox:"0 0 48 48"},t),ut||(ut=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,15.0207587867533) scale(0.812524844720682,0.812524844720682)  ",fill:"#ADADAD",d:"M25.107022,7.3299565L25.107022,10.039063 12.047022,10.072021 12.047022,12.031006 25.107022,12.063965 25.107022,14.773071 29.075042,11.052002z M23.107022,2.7130138L31.999022,11.052002 23.107022,19.390013 23.107022,14.057983 10.047022,14.025024 10.047022,8.0780034 23.107022,8.0450444z M0,0L20.082993,0 20.082993,5.0210164 18.082994,5.0210164 18.082994,2.0000067 1.999999,2.0000067 1.999999,20.102064 18.082994,20.102064 18.082994,17.081056 20.082993,17.081056 20.082993,22.102072 0,22.102072z"}))))};n.p;function mt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var ht=function(t){Object(o.a)(n,t);var e=mt(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={option1:!1,option2:!1,login:!1,pwd:"",address:"",tmpaddress:"",newpwd:"",data:[],name:"",clubID:0,token:0},a.setLogin=a.setLogin.bind(Object(h.a)(a)),a.loginCheck=a.loginCheck.bind(Object(h.a)(a)),a.updateAddress=a.updateAddress.bind(Object(h.a)(a)),a.updatePassword=a.updatePassword.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"setLogin",value:function(t,e){this.setState({login:e})}},{key:"loginCheck",value:function(){var t,e,n=this;if(""==this.state.pwd)alert("\u8acb\u8f38\u5165\u5bc6\u78bc");else{var a=this.state.data[this.state.clubID];(t=this.state.clubID+1,e=this.state.pwd,_("/users/login","POST",!1,{},{id:t,password:e})).then(function(t){localStorage.clear(),localStorage.setItem("token",JSON.stringify(t.token)),localStorage.setItem("id",JSON.stringify(n.state.clubID+1)),localStorage.setItem("passwd",JSON.stringify(n.state.pwd)),localStorage.setItem("name",JSON.stringify(a)),n.setState({login:!0,name:a})}).then(function(){var t,e;N(n.state.clubID+1).then(function(a){localStorage.setItem("token_num",JSON.stringify(a.token)),localStorage.setItem("address",JSON.stringify(a.address)),t=a.token,e=a.address,n.setState({token:t,address:e})})}).catch(function(){alert("\u5bc6\u78bc\u932f\u8aa4")})}}},{key:"updateAddress",value:function(){var t=this;if(""==this.state.tmpaddress)alert("\u8acb\u8f38\u5165MetaMask\u5730\u5740");else{var e=localStorage.getItem("id");O(e,this.state.pwd,this.state.name,this.state.tmpaddress).then(function(e){localStorage.setItem("address",JSON.stringify(e.address)),t.setState({option1:!1,address:e.address})}).catch(function(e){console.log(e),alert("\u66f4\u6539\u9322\u5305\u5730\u5740\u5931\u6557\uff0c\u8acb\u6ce8\u610f\u5730\u5740\u683c\u5f0f\u662f\u5426\u6b63\u78ba"),t.setState({option1:!1})})}}},{key:"updatePassword",value:function(){var t=this;if(""==this.state.newpwd)alert("\u5bc6\u78bc\u4e0d\u5f97\u8a2d\u70ba\u7a7a");else{var e=localStorage.getItem("id");O(e,this.state.newpwd,this.state.name,this.state.address).then(function(e){console.log(e),localStorage.setItem("password",JSON.stringify(e.password)),t.setState({option2:!1})}).catch(function(e){console.log(e),alert("\u66f4\u6539\u5bc6\u78bc\u5931\u6557"),t.setState({option2:!1})})}}},{key:"componentDidMount",value:function(){var t=this,e=[];if(null!==localStorage.getItem("token")){var n,a,r=localStorage.getItem("id");N(r).then(function(e){localStorage.setItem("token_num",JSON.stringify(e.token)),localStorage.setItem("address",JSON.stringify(e.address)),n=e.token,a=e.address;var r=JSON.parse(localStorage.getItem("name"));t.setState({login:!0,name:r,token:n,address:a})})}else x().then(function(n){n.sort(function(t,e){return t.id-e.id}),n.forEach(function(t){e.push(t.name)}),t.setState({data:e})})}},{key:"render",value:function(){var t=this;return this.state.login?u.a.createElement("div",null,u.a.createElement("div",{className:"account_title"},u.a.createElement("div",{className:"account_photo"}),u.a.createElement("div",{className:"acc_info"},u.a.createElement("div",{className:"first_row_a"},u.a.createElement("span",{className:"club_a"},this.state.name),u.a.createElement("span",{className:"amount"},this.state.token,"EFT")),u.a.createElement("div",{className:"second_row"},u.a.createElement("span",{className:"id"},this.state.address.substr(0,5),"......",this.state.address.substr(-5))))),u.a.createElement("h4",{className:"manage"},"\u7ba1\u7406"),u.a.createElement("div",{className:"choice_a"},u.a.createElement("div",{className:"row",onClick:function(){return t.setState({option1:!0,tmpaddress:""})}},u.a.createElement(it,{width:"54",height:"54",className:"app_account",alt:"account_icon"}),u.a.createElement("span",{className:"function"},"\u66f4\u6539\u9322\u5305\u5730\u5740")),u.a.createElement("div",{className:"row",onClick:function(){return t.setState({option2:!0,newpwd:""})}},u.a.createElement(st,{width:"54",height:"54",className:"app_apply",alt:"apply_icon"}),u.a.createElement("span",{className:"function"},"\u66f4\u6539\u5e33\u865f\u5bc6\u78bc")),u.a.createElement("div",{className:"row"},u.a.createElement(pt,{width:"54",height:"54",className:"app_question",alt:"question_icon"}),u.a.createElement("span",{className:"function"},"\u4f7f\u7528\u8aaa\u660e")),u.a.createElement("div",{className:"row",style:{border:"none"},onClick:function(){t.setState({login:!1}),localStorage.removeItem("token")}},u.a.createElement(dt,{width:"54",height:"54",className:"app_logout",alt:"logout_icon"}),u.a.createElement("span",{className:"function"},"\u767b\u51fa"))),this.state.option1&&u.a.createElement("div",{className:"popup"},u.a.createElement("div",{className:"popup-inner"},u.a.createElement("div",{className:"close-btn",onClick:function(){return t.setState({option1:!1})}},u.a.createElement(b,{width:"35",height:"35",className:"app_delete",alt:"delete_icon"})),u.a.createElement("h3",{className:"ask"},"\u66f4\u6539MetaMask\u5e33\u6236\u5730\u5740"),u.a.createElement("input",{type:"text",className:"address",placeholder:"\u8acb\u8f38\u5165MetaMask\u5730\u5740",onChange:function(e){return t.setState({tmpaddress:e.target.value})}}),u.a.createElement("button",{className:"concert",onClick:function(){return t.updateAddress(t)}},"\u78ba\u5b9a"))),this.state.option2&&u.a.createElement("div",{className:"popup"},u.a.createElement("div",{className:"popup-inner"},u.a.createElement("div",{className:"close-btn",onClick:function(){return t.setState({option2:!1})}},u.a.createElement(b,{width:"35",height:"35",className:"app_delete",alt:"delete_icon"})),u.a.createElement("h3",{className:"ask"},"\u66f4\u6539\u5e33\u6236\u5bc6\u78bc"),u.a.createElement("input",{type:"text",className:"password",placeholder:"\u8acb\u8f38\u5165\u65b0\u5bc6\u78bc",onChange:function(e){return t.setState({newpwd:e.target.value})}}),u.a.createElement("button",{className:"concert",onClick:function(){return t.updatePassword(t)}},"\u78ba\u5b9a")))):u.a.createElement("div",{className:"login"},u.a.createElement("div",{className:"title"},u.a.createElement("h3",null,"Log in")),u.a.createElement("div",{className:"frame"},u.a.createElement("div",{className:"content_title"},"\u793e\u5718\u540d\u7a31"),u.a.createElement("div",{className:"choose"},u.a.createElement("select",{className:"selected",value:this.state.clubID,placeholder:"\u8acb\u9078\u64c7\u793e\u5718\u540d\u7a31",onChange:function(e){return t.setState({clubID:parseInt(e.target.value)})}},this.state.data.map(function(t,e){return u.a.createElement("option",{key:e,value:e},t)}))),u.a.createElement("div",{className:"content_title"},"\u5bc6\u78bc"),u.a.createElement("input",{type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",onChange:function(e){return t.setState({pwd:e.target.value})}})),u.a.createElement("button",{className:"concert",onClick:function(){return t.loginCheck(t)}},"\u767b\u5165"))}}]),n}(u.a.Component);n(528);function yt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var vt=function(t){Object(o.a)(n,t);var e=yt(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={isapply:!1,amount:-1,preamount:0,url:"",picID:-1},a.apply_text=a.apply_text.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"apply_text",value:function(){var t,e,n=this;this.state.amount<0?alert("\u8f38\u5165\u503c\u9700\u5927\u65bc\u96f6\uff0c\u8acb\u91cd\u65b0\u8f38\u5165"):(t=this.state.picID,e=this.state.amount,_("pictures/reportErr","POST",!0,{},{reportErr_picID:t,num_friendly:e})).then(function(){alert("\u63d0\u4ea4\u7533\u8acb\u6210\u529f"),n.setState({isapply:!1}),n.props.history.push("/tableware_detector/activities")}).catch(function(t){alert("\u63d0\u4ea4\u7533\u8acb\u5931\u6557\uff0c\u8acb\u91cd\u65b0\u63d0\u4ea4"),n.setState({isapply:!1})})}},{key:"componentDidMount",value:function(){var t,e=this;console.log(this.props.match.params.id),(t=this.props.match.params.id,_("/pictures","GET",!1,{activity_id:t})).then(function(t){console.log(t.length);var n=t.length-1;e.setState({url:t[n].base64,preamount:t[n].num_friendly,picID:t[n].id})}).catch(function(t){alert("\u64cd\u4f5c\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u57f7\u884c")})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("div",{className:"title"},u.a.createElement("h3",null,"Activities")),""!==this.state.url&&u.a.createElement("img",{id:"upload-image",crossOrigin:"anonymous",width:"340px",height:"250px",src:this.state.url}),u.a.createElement("div",{className:"data_r"},u.a.createElement("div",{className:"row_r"},u.a.createElement("span",{className:"title_r"},"eco-friendly items:"),u.a.createElement("span",{className:"amounts"},this.state.preamount)),u.a.createElement("button",{className:"apply_button",onClick:function(){return t.setState({isapply:!0,amount:-1})}},"\u7533\u8acb\u4eba\u5de5\u5be9\u67e5")),this.state.isapply&&u.a.createElement("div",{className:"popup"},u.a.createElement("div",{className:"popup-inner"},u.a.createElement("div",{className:"close-btn",onClick:function(){return t.setState({isapply:!1})}},u.a.createElement(b,{width:"35",height:"35",className:"app_delete",alt:"delete_icon"})),u.a.createElement("h3",{className:"ask"},"\u7533\u8acb\u4eba\u5de5\u5be9\u67e5"),u.a.createElement("input",{style:{margin:"6vh 0"},type:"text",placeholder:"\u8acb\u8f38\u5165\u9810\u671f\u74b0\u4fdd\u7269\u54c1\u6578\u91cf",onChange:function(e){return t.setState({amount:e.target.value})}}),u.a.createElement("button",{className:"concert",onClick:function(){return t.apply_text(t)}},"\u78ba\u5b9a"))))}}]),n}(u.a.Component),gt=(n(530),[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_clubID",type:"uint256"},{indexed:!1,internalType:"string",name:"_clubName",type:"string"},{indexed:!1,internalType:"address",name:"_addr",type:"address"}],name:"AddClub",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_resourceID",type:"uint256"},{indexed:!1,internalType:"string",name:"_resourceName",type:"string"},{indexed:!1,internalType:"uint256",name:"_cost",type:"uint256"}],name:"AddResource",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ApproveBackend",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_clubID",type:"uint256"},{indexed:!1,internalType:"string",name:"_clubName",type:"string"},{indexed:!1,internalType:"string",name:"_date",type:"string"},{indexed:!0,internalType:"uint256",name:"_resourceID",type:"uint256"},{indexed:!1,internalType:"string",name:"_resourceName",type:"string"},{indexed:!1,internalType:"uint256",name:"_cost",type:"uint256"}],name:"BookedResource",type:"event"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"},{internalType:"uint256",name:"_resourceID",type:"uint256"},{internalType:"string",name:"_date",type:"string"},{internalType:"uint256",name:"_cost",type:"uint256"}],name:"BookResource",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"},{internalType:"uint256",name:"_resourceID",type:"uint256"},{internalType:"string",name:"_date",type:"string"},{internalType:"uint256",name:"_cost",type:"uint256"}],name:"BookResource_backend",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"string",name:"_resourceName",type:"string"},{indexed:!1,internalType:"uint256",name:"_newCost",type:"uint256"}],name:"ChangeResourceCost",type:"event"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"string",name:"_name",type:"string"},{internalType:"address",name:"_addr",type:"address"}],name:"CreateClub",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"string",name:"name_",type:"string"},{internalType:"uint256",name:"_cost",type:"uint256"}],name:"CreateResource",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"},{internalType:"uint256",name:"_activityID",type:"uint256"},{internalType:"string",name:"_activityName",type:"string"},{internalType:"uint256",name:"_oldnum",type:"uint256"},{internalType:"uint256",name:"_picID",type:"uint256"},{internalType:"uint256",name:"_picNum",type:"uint256"},{internalType:"uint256",name:"_add",type:"uint256"}],name:"ModifyPicnum_Add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"},{internalType:"uint256",name:"_activityID",type:"uint256"},{internalType:"string",name:"_activityName",type:"string"},{internalType:"uint256",name:"_oldnum",type:"uint256"},{internalType:"uint256",name:"_picID",type:"uint256"},{internalType:"uint256",name:"_picNum",type:"uint256"},{internalType:"uint256",name:"_minus",type:"uint256"}],name:"ModifyPicnum_Retake",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_clubID",type:"uint256"},{indexed:!1,internalType:"string",name:"_clubName",type:"string"},{indexed:!0,internalType:"uint256",name:"_activityID",type:"uint256"},{indexed:!1,internalType:"string",name:"_activityName",type:"string"},{indexed:!0,internalType:"uint256",name:"_newpicID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_oldnum",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_newnum",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_balance",type:"uint256"},{indexed:!1,internalType:"string",name:"_action",type:"string"},{indexed:!1,internalType:"uint256",name:"_token",type:"uint256"}],name:"ModifyPicture",type:"event"},{inputs:[{internalType:"uint256",name:"_ID",type:"uint256"},{internalType:"uint256",name:"_newcost",type:"uint256"}],name:"ModifyResourceCost",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_clubID",type:"uint256"},{indexed:!1,internalType:"string",name:"_clubName",type:"string"},{indexed:!0,internalType:"uint256",name:"_activityID",type:"uint256"},{indexed:!1,internalType:"string",name:"_activityName",type:"string"},{indexed:!1,internalType:"string",name:"_date",type:"string"},{indexed:!0,internalType:"uint256",name:"_pictureID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_number",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_token",type:"uint256"}],name:"uploadPicture",type:"event"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"},{internalType:"uint256",name:"_activityID",type:"uint256"},{internalType:"string",name:"_activityName",type:"string"},{internalType:"string",name:"_date",type:"string"},{internalType:"uint256",name:"_picID",type:"uint256"},{internalType:"uint256",name:"_picNum",type:"uint256"}],name:"UploadPicture",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"}],name:"ClubAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"}],name:"ClubBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_clubID",type:"uint256"}],name:"ClubName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"ResourceCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"ResourceName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}]),bt=n(275),wt=n.n(bt),Et=n(336);function _t(){_t=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(j){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),c=new O(r||[]);return a(o,"_invoke",{value:E(t,n,c)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=l;var p={};function f(){}function d(){}function m(){}var h={};s(h,i,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==e&&n.call(v,i)&&(h=v);var g=m.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;a(this,"_invoke",{value:function(a,i){function o(){return new e(function(r,o){!function a(r,i,o,c){var s=u(t[r],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then(function(t){a("next",t,o,c)},function(t){a("throw",t,o,c)}):e.resolve(p).then(function(t){l.value=t,o(l)},function(t){return a("throw",t,o,c)})}c(s.arg)}(a,i,r,o)})}return r=r?r.then(o,o):o()}})}function E(t,e,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return L()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var c=_(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function _(t,e){var n=e.method,a=t.iterator[n];if(void 0===a)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,a(g,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:d,configurable:!0}),d.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var o=new w(l(e,n,a,r),i);return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(g),s(g,c,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var a in e)n.push(a);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return o.type="throw",o.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function xt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var Nt,Ot=function(t){Object(o.a)(n,t);var e=xt(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).data=["13:00-14:00","14:00-15:00","16:00-17:00","18:00-19:00"],a.imageRef=u.a.createRef(),a.deal=function(){var t=Object(m.a)(_t().mark(function t(e){var n,r,i,o,c,s,l;return _t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new wt.a(window.ethereum),t.next=3,n.eth.requestAccounts();case 3:return r=t.sent,i=r[0],console.log(r),o=new n.eth.Contract(gt,"0x9f6ddb9098a7B506B0d0788d955413FdEEC561bD",{from:i}),c=parseInt(a.props.match.params.id),s=parseInt(localStorage.getItem("id")),t.prev=9,t.next=12,o.methods.BookResource(s,c,a.state.date,a.state.total).send({from:i});case 12:l=t.sent,console.log(l),console.log("finish"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),console.log(t.t0);case 20:case"end":return t.stop()}},t,null,[[9,17]])}));return function(e){return t.apply(this,arguments)}}(),a.state={date:"",ans:[],total:0,time:[]},a.buy_place=a.buy_place.bind(Object(h.a)(a)),a.changeDate=a.changeDate.bind(Object(h.a)(a)),a.deal=a.deal.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"changeDate",value:function(t){var e=this,n=t.target.value.replaceAll("-","");this.setState({date:n});var a,r,i=this.props.match.params.id;(a=i,r=n,_("/resources/free","GET",!1,{resource_id:a,booked_day:r})).then(function(t){e.setState({time:t.free_hour})}).catch(function(t){console.log(t)})}},{key:"buy_place",value:function(t){var e=this.state.ans.findIndex(function(e){return e===t.target.value}),n=this.state.ans;-1==e?n.push(t.target.value):n=this.state.ans.filter(function(e){return e!==t.target.value});var a=n.length*this.props.match.params.price;this.setState({ans:n,total:a})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("div",{className:"title"},u.a.createElement("h3",null,"Transaction")),u.a.createElement("div",{className:"place_data"},u.a.createElement("div",{className:"place_context"},u.a.createElement("div",{className:"place_title"},u.a.createElement("span",{className:"title_context"},"Place: ",this.props.match.params.placeName)),u.a.createElement("div",{className:"place_title"},u.a.createElement("span",{className:"title_context"},"date:"),u.a.createElement("input",{className:"date_input",type:"date",onChange:function(e){return t.changeDate(e)}}))),""!==this.state.date&&u.a.createElement("div",null,u.a.createElement("div",{className:"place_choose"},this.state.time.map(function(e,n){return u.a.createElement("li",{className:"time",key:n},u.a.createElement("input",{className:"multicheckbox",type:"checkbox",id:e,value:e,onChange:function(e){return t.buy_place(e)}}),u.a.createElement("label",{htmlFor:e},e,":00-",e+1,":00"))})),u.a.createElement("div",{className:"total"},this.state.total,"EFT")),u.a.createElement("button",{className:"apply_button",style:{backgroundColor:"#C7C7E2"},onClick:function(e){return t.deal(e)}},"\u79df\u501f")))}}]),n}(u.a.Component),kt=function(t){var e=t.childProps;return u.a.createElement(y.d,null,u.a.createElement(y.b,{path:"/tableware_detector/",exact:!0,component:Z,props:e}),u.a.createElement(y.b,{path:"/tableware_detector/activities",exact:!0,component:nt,props:e}),u.a.createElement(y.b,{path:"/tableware_detector/identify/:id",exact:!0,component:V,props:e}),u.a.createElement(y.b,{path:"/tableware_detector/trade",exact:!0,component:Q,props:e}),u.a.createElement(y.b,{path:"/tableware_detector/account",exact:!0,component:ht,props:e}),u.a.createElement(y.b,{path:"/tableware_detector/apply/:id",exact:!0,component:vt,props:e}),u.a.createElement(y.b,{path:"/tableware_detector/place/:id/:placeName/:price",exact:!0,component:Ot,props:e}))},Lt=(n(743),n(512)),jt=n.n(Lt);function Tt(){return(Tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var St,Ct=function(t){return u.a.createElement("svg",Tt({height:48,width:48,viewBox:"0 0 48 48"},t),Nt||(Nt=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,12.625) scale(0.8125,0.8125)  ",d:"M32,2.6000061L31.599998,6 31.199997,9.4000244 29.5,7.7000122 24.699997,12.5 22.299995,14.900024 17,9.6000061 8.0999985,18.600006 5.6999969,16.200012 17,4.8000183 22.299995,10 27.099998,5.2000122 25.199997,3.3000183 28.599998,2.9000244z M0,0L3.9000015,0 3.9000015,24.200012 29.099998,24.200012 29.099998,28 3.9000015,28 0,28 0,24.100006z"}))))};n.p;function Rt(){return(Rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var It,Mt=function(t){return u.a.createElement("svg",Rt({height:48,width:48,viewBox:"0 0 48 48"},t),St||(St=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,14.0468742251396) scale(0.8125,0.8125)  ",d:"M2,11.5L2,22.500001 30,22.500001 30,11.5z M9.5,4.5L9.5,7.0000005 6.5,7.0000005 6.5,4.500001 2,4.500001 2,9.5000005 30,9.5000005 30,4.500001 25.5,4.500001 25.5,7.0000005 22.5,7.0000005 22.5,4.5z M6.5,0L9.5,0 9.5,2.5 22.5,2.5 22.5,4.7683716E-07 25.5,4.7683716E-07 25.5,2.500001 30,2.500001C31.102966,2.500001,32,3.3970041,32,4.500001L32,22.500001C32,23.603013,31.102966,24.500001,30,24.500001L2,24.500001C0.89697266,24.500001,0,23.603013,0,22.500001L0,4.500001C0,3.3970041,0.89697266,2.500001,2,2.500001L6.5,2.500001z"}))))};n.p;function Dt(){return(Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var Pt,Bt=function(t){return u.a.createElement("svg",Dt({height:48,width:48,viewBox:"0 0 48 48"},t),It||(It=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11,11) scale(0.8125,0.8125)  ",fill:"#ADADAD",d:"M16.421997,16.385C17.142998,16.585001 17.664001,16.800001 17.969002,17.015001 18.506996,17.395002 18.771996,17.950002 18.771996,18.67 18.771996,19.134001 18.671997,19.529001 18.474998,19.884001 18.101997,20.564003 17.416,20.929004 16.421997,20.969002z M15.572998,10.215002L15.572998,14.523001C14.892998,14.383001 14.353996,14.148001 13.945999,13.808 13.535995,13.464002 13.335999,12.994001 13.335999,12.389002 13.335999,11.889002 13.508995,11.409002 13.849998,10.950002 14.188995,10.495001 14.764,10.250002 15.572998,10.215002z M15.594002,8.0449989L15.594002,9.2040003C14.427002,9.2189997 13.527,9.574003 12.872002,10.284002 12.225998,10.989 11.903999,11.784002 11.903999,12.669 11.903999,13.654001 12.202995,14.434 12.806999,14.989 13.402,15.544 14.335999,15.939001 15.594002,16.179003L15.594002,20.928005C14.609001,20.843002 13.940002,20.483003 13.574997,19.818002 13.375999,19.453001 13.244995,18.873003 13.194,18.078001L11.665001,18.078001C11.665001,19.073 11.820999,19.868002 12.152,20.453001 12.754997,21.538002 13.905998,22.143005 15.594002,22.253002L15.594002,23.938003 16.421997,23.938003 16.421997,22.253002C17.473,22.133003 18.276001,21.898002 18.829002,21.538002 19.838997,20.883003 20.343002,19.788 20.334999,18.248003 20.334999,17.168001 19.946999,16.368002 19.160995,15.824003 18.681,15.489 17.769997,15.134001 16.421997,14.764002L16.421997,10.519003C17.216995,10.544 17.803001,10.859003 18.167999,11.434 18.366997,11.759001 18.489998,12.139002 18.531998,12.579L20.046997,12.579C20.020996,11.594 19.698997,10.809 19.079002,10.204 18.465996,9.6090029 17.581001,9.2690027 16.421997,9.1890009L16.421997,8.0449989z M16.000999,4.2949989C22.459999,4.2949989 27.700996,9.5390032 27.700996,15.999002 27.700996,22.453003 22.459999,27.697002 16.000999,27.697002 9.5400009,27.697002 4.298996,22.453003 4.298996,15.999002 4.298996,9.5390032 9.5299988,4.2949989 16.000999,4.2949989z M16.000999,1.5799985C8.052002,1.5799984 1.5839996,8.05 1.5839996,16.000002 1.5839996,23.945003 8.052002,30.415001 16.000999,30.415001 23.948997,30.415001 30.415001,23.945003 30.415001,16.000002 30.415001,8.05 23.948997,1.5799984 16.000999,1.5799985z M16.000999,0C24.822998,2.0636321E-07 32,7.1750005 32,16.000002 32,24.820003 24.822998,32 16.000999,32 7.1780014,32 0,24.820003 0,16.000002 0,7.1750005 7.1780014,2.0636321E-07 16.000999,0z"}))))};n.p;function At(){return(At=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var Ft,zt=function(t){return u.a.createElement("svg",At({height:48,width:48,viewBox:"0 0 48 48"},t),Pt||(Pt=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(12.1374996900558,11) scale(0.8125,0.8125)  ",d:"M9.6999674,17.900024L19.500033,17.900024C24.900004,17.900024 29.2,22 29.2,27.100006 29.2,28.900024 28.7,30.600006 27.699998,32L1.5000024,32C0.50000076,30.600006 -4.9178198E-08,28.900024 0,27.100006 -4.9178198E-08,22 4.299995,17.900024 9.6999674,17.900024z M14.699976,0C18.800019,0 22.100013,3.3000183 22.100013,7.4000244 22.100013,11.5 18.800019,14.800018 14.699976,14.800018 10.599993,14.800018 7.2999998,11.5 7.2999998,7.4000244 7.3999758,3.3000183 10.699969,0 14.699976,0z"}))))};n.p;function Gt(){return(Gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var Ut=function(t){return u.a.createElement("svg",Gt({height:48,width:48,viewBox:"0 0 48 48"},t),Ft||(Ft=u.a.createElement("g",null,u.a.createElement("path",{id:"path1",transform:"rotate(0,24,24) translate(11.0008112285329,11) scale(0.812449637197096,0.812449637197096)  ",fill:"#FFFFFF",d:"M22.854972,19.412021C23.271966,19.412021 23.610961,19.750022 23.610961,20.168024 23.610961,20.586025 23.271966,20.924028 22.854972,20.924028 22.436979,20.924028 22.098985,20.586025 22.098985,20.168024 22.098985,19.750022 22.436979,19.412021 22.854972,19.412021z M22.226959,17.795007C20.918958,17.795007 19.854959,18.859008 19.854959,20.168006 19.854959,21.477006 20.918958,22.541006 22.226959,22.541006L29.96936,22.541006 29.953679,17.795007z M2.1950511,8.8539195C2.2120188,13.688922 2.240034,24.470962 2.1760689,26.924978 2.1240674,28.963983 3.7560223,29.802974 4.2290438,30.001979L29.994008,30.001979 29.972663,23.541006 22.226959,23.541006C20.367959,23.541006 18.854959,22.028007 18.854959,20.168006 18.854959,18.308008 20.367959,16.795007 22.226959,16.795007L29.950376,16.795007 29.926017,9.4219137C25.346008,9.4279256 6.9900249,9.4579254 5.3270644,9.439919 4.42106,9.4319234 3.2300223,9.3479391 2.1950511,8.8539195z M18.859022,2.0029204C14.044028,2.0029204 8.6300367,2.0459199 6.3010615,2.1399143 5.0340351,2.1919163 2.0740186,2.5728987 2.0030349,4.9769268 1.9790481,5.7349239 2.1420118,6.2849131 2.4990665,6.6569233 2.9920467,7.1699253 3.923014,7.4269143 5.3460463,7.4399147 6.6520127,7.455906 18.768995,7.4399147 25.846008,7.4279213L26.789976,2.062918C25.260986,2.0239168,22.205022,2.0029204,18.859022,2.0029204z M21.301263,8.9476089E-08C28.680154,-9.7636677E-05,28.710163,0.079730608,28.934015,0.86091957L29.148979,1.6179097 28.870965,1.7769066 27.877986,7.4249306C29.697013,7.4219094,30.869985,7.4199257,30.921987,7.4199257L31.921008,7.4179116 31.999986,32.001985 3.7360641,31.952974C2.470014,31.540985 0.097032671,29.949977 0.17607306,26.873983 0.25602894,23.781965 0.18705935,6.6959248 0.18602194,6.5239272L0.18907342,6.5239272C0.047044975,6.0409246 -0.014966628,5.5049124 0.0030386363,4.9159217 0.088060518,2.0829072 2.4130684,0.29789937 6.2200068,0.14189322 8.5550245,0.046891708 14.205038,0.0029157729 18.766981,0.0019085101 19.695953,0.0008758586 20.537931,1.0397087E-05 21.301263,8.9476089E-08z"}))))};n.p;function Jt(){Jt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(j){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),c=new O(r||[]);return a(o,"_invoke",{value:E(t,n,c)}),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=l;var p={};function f(){}function d(){}function m(){}var h={};s(h,i,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==e&&n.call(v,i)&&(h=v);var g=m.prototype=f.prototype=Object.create(h);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;a(this,"_invoke",{value:function(a,i){function o(){return new e(function(r,o){!function a(r,i,o,c){var s=u(t[r],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then(function(t){a("next",t,o,c)},function(t){a("throw",t,o,c)}):e.resolve(p).then(function(t){l.value=t,o(l)},function(t){return a("throw",t,o,c)})}c(s.arg)}(a,i,r,o)})}return r=r?r.then(o,o):o()}})}function E(t,e,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return L()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var c=_(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function _(t,e){var n=e.method,a=t.iterator[n];if(void 0===a)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,a(g,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:d,configurable:!0}),d.displayName=s(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,a,r,i){void 0===i&&(i=Promise);var o=new w(l(e,n,a,r),i);return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(g),s(g,c,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),n=[];for(var a in e)n.push(a);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return o.type="throw",o.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function Wt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var qt=function(t){Object(o.a)(n,t);var e=Wt(n);function n(t){var a;Object(r.a)(this,n),(a=e.call(this,t)).connectWalletAccount=Object(m.a)(Jt().mark(function t(){var e,n,a,r,i;return Jt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==JSON.parse(localStorage.getItem("matamask"))){t.next=4;break}return alert("\u60a8\u5df2\u9023\u63a5MetaMask\u5e33\u865f"),t.abrupt("return");case 4:return e=new Et.a({rpc:{11155111:"https://rpc.sepolia.org"},chainId:11155111,network:"arbitrum goerli",qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust","imtoken","pillar","gnosis","opera","operaTouch"]}}),t.prev=5,t.next=8,e.enable();case 8:return n=new wt.a(e),t.next=11,n.eth.getAccounts();case 11:a=t.sent,console.log(n),console.log(e),localStorage.setItem("metamask",a[0]),localStorage.setItem("web3",n),r=localStorage.getItem("web3"),i=localStorage.getItem("metamask"),console.log(i),console.log(r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(5),console.error(t.t0);case 25:case"end":return t.stop()}},t,null,[[5,22]])}));return a.state={active_home:!0,active_activity:!1,active_identify:!1,active_account:!1},a.changeColor=a.changeColor.bind(Object(h.a)(a)),a.connectWalletAccount=a.connectWalletAccount.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"changeColor",value:function(t){this.setState({active_home:1===t,active_activity:2===t,active_identify:3===t,active_account:4===t})}},{key:"render",value:function(){var t=this;this.state.account;return u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"app_title"},u.a.createElement("img",{src:jt.a,width:"35",height:"35",className:"app_icon",alt:"icon"}),u.a.createElement("span",{className:"app_name"},"NCKU"),u.a.createElement(Ut,{width:"48",height:"48",className:"app_wallet",alt:"wallet_icon",onClick:function(){return t.connectWalletAccount(t)}})),u.a.createElement("div",{className:"middle"},u.a.createElement(kt,null)),u.a.createElement("div",{className:"footer"},u.a.createElement(d.b,{to:"/tableware_detector/",className:"list",onClick:function(){return t.changeColor(t,1)}},u.a.createElement(Ct,{fill:this.state.active_home?this.postcolor:this.precolor,width:"48",height:"48",className:"app_rank",alt:"rank_icon"})),u.a.createElement(d.b,{to:"/tableware_detector/activities",className:"list",onClick:function(){return t.changeColor(t,2)}},u.a.createElement(Mt,{fill:this.state.active_activity?this.postcolor:this.precolor,width:"48",height:"48",className:"app_activ",alt:"activities_icon"})),u.a.createElement(d.b,{to:"/tableware_detector/trade",className:"list",onClick:function(){return t.changeColor(t,3)}},u.a.createElement(Bt,{fill:this.state.active_identify?this.postcolor:this.precolor,width:"48",height:"48",className:"app_trade",alt:"trade_icon"})),u.a.createElement(d.b,{to:"/tableware_detector/account",className:"list",onClick:function(){return t.changeColor(t,4)}},u.a.createElement(zt,{fill:this.state.active_account?this.postcolor:this.precolor,width:"48",height:"48",className:"app_user",alt:"user_icon"}))))}}]),n}(l.Component),Yt=Object(y.g)(qt),Ht=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vt(t){if("serviceWorker"in navigator){if(new URL("/tableware_detector",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/tableware_detector","/service-worker.js");Ht?(!function(t,e){fetch(t).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):Kt(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Kt(e,t)})}}function Kt(t,e){navigator.serviceWorker.register(t).then(function(t){function n(n){console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA2-PWA."),e&&e.onUpdate&&e.onUpdate(t,n)}t.waiting&&t.active&&n(t.waiting),t.onupdatefound=function(){var a=t.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?n(a):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}function $t(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,a=Object(s.a)(t);if(e){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var Qt=function(t){Object(o.a)(n,t);var e=$t(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={contentCached:!1,updateAvailable:!1},t.handleUpdate=function(e){var n=e.waiting;n&&n.postMessage({type:"SKIP_WAITING"}),t.setState({updateAvailable:!0})},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){Vt({onUpdate:this.handleUpdate})}},{key:"render",value:function(){return u.a.createElement(d.a,null,u.a.createElement(Yt,{updateAvailable:this.state.updateAvailable}))}}]),n}(l.Component);f.a.render(u.a.createElement(Qt,null),document.getElementById("root"))}},[[362,2,1]]]);
//# sourceMappingURL=main.04ede81d.chunk.js.map